!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ParrotRcHooks={},e.React)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(t);function r(e,t){"function"==typeof e?e(t):e.current=t}let i=!0,u=!1,c=null;const s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function a(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function f(){i=!1}function d(){"hidden"===this.visibilityState&&u&&(i=!0)}function l(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(e){}return i||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(e)}e.setRef=r,e.useForkRef=function(...e){return o.default.useMemo((()=>e.every((e=>!e))?null:t=>{for(let n of e)r(n,t)}),[...e])},e.useIsFocusVisible=function(){const e=t.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",a,!0),t.addEventListener("mousedown",f,!0),t.addEventListener("pointerdown",f,!0),t.addEventListener("touchstart",f,!0),t.addEventListener("visibilitychange",d,!0))}),[]),n=o.default.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(){return!!l(event)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(u=!0,window.clearTimeout(c),c=window.setTimeout((()=>{u=!1}),100),n.current=!1,!0)},ref:e}},Object.defineProperty(e,"__esModule",{value:!0})}));
