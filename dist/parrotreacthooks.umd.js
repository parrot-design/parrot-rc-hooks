!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ParrotRcHooks={},e.React)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t);function u(e,t){"function"==typeof e?e(t):e&&(e.current=t)}let c=!0,i=!1,o=null;const s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function a(e){e.metaKey||e.altKey||e.ctrlKey||(c=!0)}function f(){c=!1}function l(){"hidden"===this.visibilityState&&i&&(c=!0)}function d(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(e){}return c||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(e)}const v="undefined"!=typeof window;function b(e,t,n){if(!v)return;const{target:u=window,passive:c=!1,capture:i=!1}=n||{};let o=!1;const s=r.default.useCallback((n=>{n&&!o&&n.addEventListener(e,t,i),o=!0}),[e,t,c,i]),a=r.default.useCallback((n=>{n&&o&&(n.removeEventListener(e,t,i),o=!1)}),[e,t,c,i]);r.default.useEffect((()=>(s(u),()=>{a(u)})),[u])}e.inBrowser=v,e.setRef=u,e.useEventListener=b,e.useForkRef=function(...e){return r.default.useMemo((()=>e.every((e=>!e))?null:t=>{for(let n of e)n&&u(n,t)}),[...e])},e.useIsFocusVisible=function(){const e=t.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",a,!0),t.addEventListener("mousedown",f,!0),t.addEventListener("pointerdown",f,!0),t.addEventListener("touchstart",f,!0),t.addEventListener("visibilitychange",l,!0))}),[]),n=r.default.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!d(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(i=!0,window.clearTimeout(o),o=window.setTimeout((()=>{i=!1}),100),n.current=!1,!0)},ref:e}},e.usePageVisibility=function(){const[e,t]=r.default.useState("visible");return b("visibilitychange",r.default.useCallback((()=>{v&&t(document.hidden?"hidden":"visible")}),[])),e},e.useStateCallback=function(e){const[n,r]=t.useState(e),u=t.useRef();return t.useEffect((()=>{u.current&&u.current(n)}),[n]),[n,(e,t,c)=>{"function"==typeof c&&!1===c(n,e)||(u.current="function"==typeof t?t:null,r(e))}]},e.useTouch=function(){const e=t.useRef(0),n=t.useRef(0),r=t.useRef(0),u=t.useRef(0),c=t.useRef(0),i=t.useRef(0),o=t.useRef(""),s=()=>{r.current=0,u.current=0,c.current=0,i.current=0,o.current=""};return{move:t=>{const s=t.touches[0];var a,f;r.current=s.clientX<0?0:s.clientX-e.current,u.current=s.clientY-n.current,c.current=Math.abs(r.current),i.current=Math.abs(u.current),o.current||(o.current=(a=c.current,f=i.current,a>f&&a>10?"horizontal":f>a&&f>10?"vertical":""))},start:t=>{s(),e.current=t.touches[0].clientX,n.current=t.touches[0].clientY},reset:s,startX:e,startY:n,deltaX:r,deltaY:u,offsetX:c,offsetY:i,direction:o,isVertical:()=>"vertical"===o.current,isHorizontal:()=>"horization"===o.current}},Object.defineProperty(e,"__esModule",{value:!0})}));
